!function(t){function a(a,n,e,i){var r=a.children("tbody"),o=0,s=n.length,p=[];e&&(o=10*(i-1),s=n.length-o>10?o+10:n.length),r.children().detach();for(var c=o;c<s;c++)p.push("<tr>"),t.each(n[c],function(t,a){p.push("<td>"+a+"</td>")}),p.push("</tr>");r.append(p.join(""))}function n(n,e,i,o){var s=[];n.parent().find(".panigation").children().detach(),s.push('<span><a href="javascript: void(0);" data-stfront>&lt;</a>');for(var p=0;p<o;p++)s.push('<a href="javascript: void(0);" data-stpage="'+(p+1)+'">'+(p+1)+"</a>");s.push('<a href="javascript: void(0);" data-stback>&gt;</a></span>'),n.parent().children(".panigation").append(s.join("")),n.parent().find(".panigation").off("click"),n.parent().find("[data-stfront]").on("click",function(){r-1>0&&(r-=1,a(n,e,i,r))}),n.parent().find("[data-stback]").on("click",function(){r+1<=o&&(r+=1,a(n,e,i,r))}),n.parent().find(".panigation").on("click","[data-stpage]",function(){r=t(this).attr("data-stpage"),a(n,e,i,r)})}function e(e,i,r){e.parent().find("thead").off("click"),e.parent().find("thead").on("click","[data-sort]",function(){var s=t(this).attr("data-sort"),p=t(this).attr("data-sorttype");"desc"===p?(i.sort(function(t,a){var n=0;return"number"==typeof parseFloat(t[s-1])&&"number"==typeof parseFloat(a[s-1])&&(n=parseFloat(a[s-1])-parseFloat(t[s-1])),n}),t(this).attr("data-sorttype","asc")):(i.sort(function(t,a){var n=0;return"number"==typeof parseFloat(t[s-1])&&"number"==typeof parseFloat(a[s-1])&&(n=parseFloat(t[s-1])-parseFloat(a[s-1])),n}),t(this).attr("data-sorttype","desc")),a(e,i,r,1),n(e,i,r,o)})}var i={panigation:!0,sort:!0,search:!0,data:[]},r=1,o=0,s=[];t.fn.simpleTable=function(i){var p=t.extend({},t.fn.simpleTable.defaults,i),c=p.data,d=p.panigation,f=p.sort,l=p.search,h=t(this);c.length?(h.wrap('<div class="simpleTable" />'),h.append("<tbody></tbody>"),a(h,c,d,r)):console.log("木有数据"),d?(o=Math.ceil(c.length/10),t('<div class="panigation"></div>').insertAfter(this),n(h,c,d,o)):console.log("木有分页器"),f?(h.find("th").each(function(a,n){t(this).attr("data-sort",a+1),t(this).attr("data-sorttype","desc")}),e(h,c,d)):console.log("木有指定排序"),l?(t('<input type="text"></input>').insertBefore(this),h.parent().find("input").on("keyup",function(){var e=t(this).val();if(s=[],e){t.each(c,function(a,n){t.each(n,function(t,a){if((""+a).toLowerCase().indexOf(e)!==-1)return s.push(n),!1})}),r=1,a(h,s,d,r);var i=Math.ceil(s.length/10);n(h,s,d,i)}else a(h,c,d,r),n(h,c,d,o)})):console.log("木有搜索")},t.fn.simpleTable.defaults=i}(jQuery);